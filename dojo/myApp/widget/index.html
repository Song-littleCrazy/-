<!DOCTYPE HTML>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Demo: AuthorWidget</title>

    <link rel="stylesheet" href="../widget/css/AuthorWidget.css" media="screen">
</head>

<body>
    <h1>demo</h1>
    <div id="authorContainer"></div>

    <script>dojoConfig = {
            async: true,
            packages: [{
                name: "myApp",
                location: location.pathname.replace(/\/[^/]*$/, '') + '../../../myApp'
            }]
        }
    </script>
    <script src="../../dojo-release-1.13.0/dojo/dojo.js"></script>
    <script>
        require([
            "dojo/request",
            "dojo/dom",
            "dojo/_base/array",
            "myApp/widget/templates/AuthorWidget",
            "dojo/domReady!"
        ], function (request, dom, arrayUtil, AuthorWidget) {
            // Load up our authors
            request('../data/authors.json', {
                handleAs: 'json'
            }).then(function (authors) {
                // Get a reference to our container
                var authorContainer = dom.byId('authorContainer');

                arrayUtil.forEach(authors, function (author) {
                    // Create our widget and place it
                    var widget = new AuthorWidget(author).placeAt(authorContainer);

                });
            });
        })
    </script>
</body>

</html>